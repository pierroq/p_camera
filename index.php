<?php $cam3="./192.168.0.5_001217d03c4c/";$cam2="./192.168.1.80_001217d03ccd/";$cam1="./192.168.0.5_001217d03c4c/";$dir="/01/pic/";$alldircam1=$cam1.date("Y-m-d").$dir;$alldircam2=$cam2.date("Y-m-d").$dir;$alldircam3=$cam3.date("Y-m-d").$dir;$pattern = "$alldircam1";$latest_filename = '';if($dossier = opendir($pattern)){    while(false !== ($fichier = readdir($dossier)))    {        if(!is_dir($fichier))            $aFichier[]=$fichier;    }}$latest_filename=max($aFichier);$img1=$alldircam1.$latest_filename;$aFichier='';$pattern = "$alldircam3";$latest_filename = "";$aFichier='';if($dossier = opendir($pattern)){    while(false !== ($fichier = readdir($dossier)))    {        if(!is_dir($fichier))            $aFichier[]=$fichier;    }}$latest_filename=max($aFichier);$img3=$alldircam3.$latest_filename;//Création de l'image compléte$destination = imagecreatetruecolor( 1920, 540 );$source1 = imagecreatefromjpeg($img1); // Le logo est la source$source3 = imagecreatefromjpeg($img3); // La photo est la destination//Camera maison$pattern = "$alldircam2";$latest_filename ="";if($dossier = opendir($cam2)){    while(false !== ($fichier = readdir($dossier)))    {        if(!is_dir($fichier))        {              $latest_dir=$fichier;        }    }}$alldircam2=$cam2.$latest_dir.$dir;$pattern = "$alldircam2";$latest_filename = "";$aFichier='';if($dossier = opendir($pattern)){    while(false !== ($fichier = readdir($dossier)))    {        if(!is_dir($fichier))            $aFichier[]=$fichier;    }}$latest_filename=max($aFichier);$img2=$alldircam2.$latest_filename;echo $img2;$jardin = imagecreatetruecolor( 960, 540 );imagecopyresampled($jardin, imagecreatefromjpeg($img2), 0, 0, 0, 0, 960, 540,704,576);imagejpeg($jardin, "jardin.jpg",100);//find e la camera maison//Affichage des images$all = imagecreatetruecolor( 960, 540 );imagecopyresampled($all , imagecreatefromjpeg($img1), 0, 0, 0, 0, 960, 540,704,576);imagejpeg($all, "all.jpg",100);/*$largeur_source = imagesx($source1);$hauteur_source = imagesy($source1);$destination_x = $largeur_destination - $largeur_source;$destination_y =  $hauteur_destination - $hauteur_source;imagecopymerge($destination, $source1, 960, 0, 0, 0, $largeur_source, $hauteur_source, 100);imagecopymerge($destination, $source3, 0, 0, 0, 0, $largeur_source, $hauteur_source, 100);imagejpeg($destination, "all.jpg",100);*/echo " <img src=\"all.jpg\" />";echo " <br/><br/><img src=\"jardin.jpg\" />";?>